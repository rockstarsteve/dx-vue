<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="js/jquery-1.11.2.min.js"></script>
  <script src="js/swiper.min.js"></script>
  <link rel="stylesheet" href="css/swiper.min.css">
  <script src="js/jquerysession.js"></script>
  <style>
    .content {
      width: 800px;
      height: 600px;
      background-color: pink;
      position: relative;
    }

    .tab {
      position: absolute;
      right: 0;
      bottom: 0;
      z-index: 999;
    }

    .tab1 {
      width: 20px;
      height: 100px;
      background-color: #0C92EB;
    }

    .tab2 {
      width: 20px;
      height: 100px;
      background-color: #0C92EB;
    }


    .show {
      display: block;
    }

    .noshow {
      display: none;
    }


    .swiper-container {
      width: 300px;
      height: 300px;
    }

  </style>
</head>
<body>

<div class="content">

  <div class="tab">
    <div class="tab1" cId="1" id="c_0" cIndex="0" onclick="initSwiper(this)">
      第一个
    </div>
    <div class="tab2" cId="2" id="c_1" cIndex="1" onclick="initSwiper(this)">
      第二个
    </div>
  </div>

  <div class="swiper-content-list noshow" cId="1">
    <div class="swiper-wrapper">
      <div class="swiper-slide spic">
        <div style="width: 300px;height: 300px;background-color: pink">1111</div>
      </div>
      <div class="swiper-slide spic">
        <div style="width: 300px;height: 300px;background-color: springgreen">11111</div>
      </div>
    </div>
  </div>

  <div class="swiper-content-list noshow" cId="2">
    <div class="swiper-wrapper">
      <div class="swiper-slide spic">
        <div style="width: 300px;height: 300px;background-color: #FFD00D">22222</div>
      </div>
      <div class="swiper-slide spic">
        <div style="width: 300px;height: 300px;background-color: #42b983">2222</div>
      </div>
    </div>
  </div>

  <div class="swiper-container subSwiper" id="swiper-wrapper">
    <div class="swiper-wrapper">
      <div class="swiper-slide spic">
        <div style="width: 300px;height: 300px;background-color: lightgrey">33333</div>
      </div>
      <div class="swiper-slide spic">
        <div style="width: 300px;height: 300px;background-color: red">3333</div>
      </div>
    </div>
  </div>

</div>


<script>

  var mySwiper;
  var size = 2;

  function swiper(cIndex) {
    if (mySwiper) {
      mySwiper.destroy();
    }
    mySwiper = new Swiper('.swiper-container', {
      speed: 1000,
      loop: true,
      autoplay: {
        delay: 2000,
        stopOnLastSlide: false,
        disableOnInteraction: false,
      },
      on: {
        click: function (e) {
          console.log('你点了Swiper')
        },
        reachEnd: function () {
          console.log("切换。。。")
          var nextIndex = Number(cIndex) + Number(1);
          if (cIndex == Number(size) - 1) {
            nextIndex = 0;
          }
          console.log('最后一张了' + nextIndex)
          $("#c_" + nextIndex).click();

          console.log("执行完成。。。" + nextIndex)
        },
      },
    });
  }

  function initSwiper(obj) {
    console.log('初始化。。。。。。' + obj)
    if (obj) {
      var cId = $(obj).attr("cId");
      var cIndex = $(obj).attr("cIndex");
      // var cSize = $(obj).attr("cSize");
      // cIndex = cIndex +1;
      $(obj).siblings().removeClass("current");
      var isCurrent = $(obj).is(".current")
      if (!isCurrent) {
        $(obj).toggleClass("current");
      }
      $("#swiper-wrapper").empty();
      $(".swiper-content-list").each(function () {
        var currentId = $(this).attr("cId");
        if (cId == currentId) {
          var cHtml = $(this).html();
          $("#swiper-wrapper").html(cHtml);
          swiper(cIndex);
        }
      })
    } else {
      swiper(0);
    }
  }

  swiper(0);
</script>

</body>
</html>
